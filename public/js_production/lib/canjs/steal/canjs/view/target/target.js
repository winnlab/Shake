/*!
 * CanJS - 2.1.2
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Mon, 16 Jun 2014 20:44:18 GMT
 * Licensed MIT
 * Includes: CanJS default build
 * Download from: http://canjs.us/
 */

steal("can/util","can/view/elements.js",function(e,t){function o(e,i,s){var o,u=s,a=typeof e,f,l,c,h,p=function(){return o||(o={path:s,callbacks:[]},i.push(o),u=[]),o};if(a==="object"){if(e.tag){f=document.createElement(e.tag);if(e.attrs)for(var d in e.attrs){var v=e.attrs[d];typeof v=="function"?p().callbacks.push({callback:v}):f.setAttribute(d,v)}if(e.attributes)for(c=0,h=e.attributes.length;c<h;c++)p().callbacks.push({callback:e.attributes[c]});e.children&&e.children.length&&(o?l=o.paths=[]:l=i,f.appendChild(n(e.children,l,u)))}else if(e.comment){f=document.createComment(e.comment);if(e.callbacks)for(c=0,h=e.attributes.length;c<h;c++)p().callbacks.push({callback:e.callbacks[c]})}}else a==="string"?f=document.createTextNode(e):a==="function"&&(r?(f=document.createTextNode(""),p().callbacks.push({callback:e})):(f=document.createComment("~"),p().callbacks.push({callback:function(){var n=document.createTextNode("");return t.replace([this],n),e.apply(n,arguments)}})));return f}function u(e,t,n){var r=t.path,i=t.callbacks,s=t.paths,o,a=e;for(var f=0,l=r.length;f<l;f++)a=a.childNodes[r[f]];for(f=0,l=i.length;f<l;f++)o=i[f],o.callback.apply(a,n);if(s&&s.length)for(f=s.length-1;f>=0;f--)u(a,s[f],n)}function a(t){var r=[],i=n(t,r,[]);return{paths:r,clone:i,hydrate:function(){var t=s(this.clone),n=e.makeArray(arguments);for(var i=r.length-1;i>=0;i--)u(t,r[i],n);return t}}}var n=function(e,t,n){var r=document.createDocumentFragment();for(var i=0,s=e.length;i<s;i++){var u=e[i];r.appendChild(o(u,t,n.concat(i)))}return r},r=function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t);var n=e.cloneNode(!0);return n.childNodes[0].childNodes.length===2}(),i=function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t=e.cloneNode(!0);return t.innerHTML==="<xyz></xyz>"}(),s=i?function(e){return e.cloneNode(!0)}:function(t){var n;t.nodeType===1?n=document.createElement(t.nodeName):t.nodeType===3?n=document.createTextNode(t.nodeValue):t.nodeType===8?n=document.createComment(t.nodeValue):t.nodeType===11&&(n=document.createDocumentFragment());if(t.attributes){var r=e.makeArray(t.attributes);e.each(r,function(e){e&&e.specified&&n.setAttribute(e.nodeName,e.nodeValue)})}return t.childNodes&&e.each(t.childNodes,function(e){n.appendChild(s(e))}),n};return a.keepsTextNodes=r,e.view.target=a,a});